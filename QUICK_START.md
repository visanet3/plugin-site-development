# ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç - –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–π –ø—Ä–æ–µ–∫—Ç

## üéØ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

–í–∞—à –ø—Ä–æ–µ–∫—Ç **–ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ–∑–∞–≤–∏—Å–∏–º –æ—Ç poehali.dev**! –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ –≤–∞—à —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π API —Å–µ—Ä–≤–µ—Ä.

### ‚úÖ –ß—Ç–æ –≥–æ—Ç–æ–≤–æ:

1. **Express API —Å–µ—Ä–≤–µ—Ä** (`server/index.js`) —Å–æ –≤—Å–µ–º–∏ endpoints
2. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è API** (`src/config/api.ts`) –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
3. **–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–∞–∫–µ—Ç—ã**: express, cors, pg, dotenv
4. **–ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î** –≤ `db_migrations/` –≥–æ—Ç–æ–≤—ã –∫ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é
5. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** –ø–æ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—é –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é

## üöÄ –ó–∞–ø—É—Å–∫ –∑–∞ 3 —à–∞–≥–∞

### –®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª

```bash
cp .env.example .env
```

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env`:
```env
DATABASE_URL=postgresql://user:password@host:5432/database_name
PORT=3001
FRONTEND_URL=http://localhost:5173
VITE_API_URL=http://localhost:3001/api
```

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

–°–æ–∑–¥–∞–π—Ç–µ PostgreSQL –±–∞–∑—É –Ω–∞ –æ–¥–Ω–æ–º –∏–∑ —Å–µ—Ä–≤–∏—Å–æ–≤:
- **Supabase** ‚Üí https://supabase.com (—Ä–µ–∫–æ–º–µ–Ω–¥—É—é)
- **Railway** ‚Üí https://railway.app
- **Neon** ‚Üí https://neon.tech

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ CONNECTION STRING –≤ `DATABASE_URL`

–ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –∏–∑ `db_migrations/` —á–µ—Ä–µ–∑ SQL —Ä–µ–¥–∞–∫—Ç–æ—Ä –≤–∞—à–µ–≥–æ —Ö–æ—Å—Ç–∏–Ω–≥–∞.

### –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç

**–¢–µ—Ä–º–∏–Ω–∞–ª 1 - Backend API:**
```bash
node server/index.js
```
–î–æ–ª–∂–µ–Ω –≤—ã–≤–µ—Å—Ç–∏: `üöÄ Server running on http://localhost:3001`

**–¢–µ—Ä–º–∏–Ω–∞–ª 2 - Frontend:**
```bash
bun run dev
```

–û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5173 üéâ

## üìù –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Frontend

–í–∞–º –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ API –≤—ã–∑–æ–≤—ã –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö.

**–ù–∞–π–¥–∏—Ç–µ –≤—Å–µ —Ñ–∞–π–ª—ã —Å poehali.dev:**
```bash
grep -r "functions.poehali.dev" src/
```

**–û–±–Ω–æ–≤–∏—Ç–µ –∫–∞–∂–¥—ã–π —Ñ–∞–π–ª:**

‚ùå **–°—Ç–∞—Ä–æ:**
```typescript
const AUTH_URL = 'https://functions.poehali.dev/xxx';
```

‚úÖ **–ù–æ–≤–æ:**
```typescript
import API_ENDPOINTS from '@/config/api';
// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ API_ENDPOINTS.CRYPTO.BALANCES –∏ —Ç.–¥.
```

–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: **[UPDATE_FRONTEND_GUIDE.md](./UPDATE_FRONTEND_GUIDE.md)**

## üåê –î–µ–ø–ª–æ–π –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥

### Vercel (–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º)

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Vercel CLI
npm i -g vercel

# 2. –í–æ–π–¥–∏—Ç–µ –∏ –∑–∞–¥–µ–ø–ª–æ–π—Ç–µ
vercel
```

### Railway

1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
3. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–∑ `.env`

### Render

1. –°–æ–∑–¥–∞–π—Ç–µ Web Service –∏–∑ GitHub
2. Build: `bun install && bun run build`
3. Start: `node server/index.js`

–ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: **[DEPLOYMENT_GUIDE.md](./DEPLOYMENT_GUIDE.md)**

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### Backend API:
```bash
curl http://localhost:3001/api/health
```
–û—Ç–≤–µ—Ç: `{"status":"ok","message":"API is running"}`

### Crypto Prices:
```bash
curl http://localhost:3001/api/crypto/prices
```
–í–µ—Ä–Ω—ë—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –∫—É—Ä—Å—ã —Å Binance

## üîß API Endpoints

–í—Å–µ endpoints –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ `server/index.js`:

- **Auth**: `/api/auth/*` - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –≤—Ö–æ–¥, –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **Crypto**: `/api/crypto/*` - –±–∞–ª–∞–Ω—Å—ã, –æ–±–º–µ–Ω, –≤—ã–≤–æ–¥, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –∫—É—Ä—Å—ã
- **Health**: `/api/health` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã API

## üÜò –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. Cannot connect to database

**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `DATABASE_URL` –≤ `.env`

### 2. CORS error

**–†–µ—à–µ–Ω–∏–µ**: 
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `FRONTEND_URL` –≤ `.env`

### 3. Port already in use

**–†–µ—à–µ–Ω–∏–µ**: –ò–∑–º–µ–Ω–∏—Ç–µ `PORT=3001` –Ω–∞ –¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç –≤ `.env`

### 4. Module not found '@/config/api'

**–†–µ—à–µ–Ω–∏–µ**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª `src/config/api.ts` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **[DEPLOYMENT_GUIDE.md](./DEPLOYMENT_GUIDE.md)** - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—é
- **[UPDATE_FRONTEND_GUIDE.md](./UPDATE_FRONTEND_GUIDE.md)** - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ frontend –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ API

## ‚ú® –ß—Ç–æ –¥–∞–ª—å—à–µ?

1. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç –ª–æ–∫–∞–ª—å–Ω–æ (3 —à–∞–≥–∞ –≤—ã—à–µ)
2. üìù –û–±–Ω–æ–≤–∏—Ç–µ –≤—Å–µ API –≤—ã–∑–æ–≤—ã –≤–æ frontend (UPDATE_FRONTEND_GUIDE.md)
3. üß™ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏
4. üöÄ –ó–∞–¥–µ–ø–ª–æ–π—Ç–µ –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥ (DEPLOYMENT_GUIDE.md)
5. üåê –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–≤–æ–π –¥–æ–º–µ–Ω

---

**–í–∞—à –ø—Ä–æ–µ–∫—Ç —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ–∑–∞–≤–∏—Å–∏–º! –í—ã –º–æ–∂–µ—Ç–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –µ–≥–æ –≥–¥–µ —É–≥–æ–¥–Ω–æ! üéâ**
